diff --git a/cmake/OpenCVFindXimea.cmake b/cmake/OpenCVFindXimea.cmake
index 5f85a13..09f0463 100644
--- a/cmake/OpenCVFindXimea.cmake
+++ b/cmake/OpenCVFindXimea.cmake
@@ -31,8 +31,19 @@ if(WIN32)
   else()
     set(XIMEA_FOUND 0)
   endif()
+elseif(APPLE)
+  if(EXISTS /Library/Frameworks/m3api.framework)
+    set(XIMEA_FOUND 1)
+  else()
+    set(XIMEA_FOUND 0)
+  endif()
 else()
-  if(EXISTS /opt/XIMEA)
+  if(EXISTS ${CMAKE_INSTALL_PREFIX}/opt/XIMEA)
+    set(XIMEA_FOUND 1)
+    # set folders
+    set(XIMEA_PATH ${CMAKE_INSTALL_PREFIX}/opt/XIMEA/include)
+    set(XIMEA_LIBRARY_DIR ${CMAKE_INSTALL_PREFIX}/lib)
+  elseif(EXISTS /opt/XIMEA)
     set(XIMEA_FOUND 1)
     # set folders
     set(XIMEA_PATH /opt/XIMEA/include)
diff --git a/modules/highgui/CMakeLists.txt b/modules/highgui/CMakeLists.txt
index 7d2547b..4a59514 100644
--- a/modules/highgui/CMakeLists.txt
+++ b/modules/highgui/CMakeLists.txt
@@ -170,7 +170,7 @@ if(HAVE_XIMEA)
     link_directories("${XIMEA_LIBRARY_DIR}")
   endif()
   if(X86_64)
-    list(APPEND HIGHGUI_LIBRARIES m3apiX64)
+    list(APPEND HIGHGUI_LIBRARIES m3api)
   else()
     list(APPEND HIGHGUI_LIBRARIES m3api)
   endif()
diff --git a/modules/highgui/src/cap_ximea.cpp b/modules/highgui/src/cap_ximea.cpp
index 891b961..4f3f75b 100644
--- a/modules/highgui/src/cap_ximea.cpp
+++ b/modules/highgui/src/cap_ximea.cpp
@@ -1,7 +1,6 @@
 #include "precomp.hpp"
 
 #include "xiApi.h"
-#include "xiExt.h"
 #include "m3Api.h"
 
 /**********************************************************************************/
@@ -156,7 +155,7 @@ bool CvCaptureCAM_XIMEA::grabFrame()
     image.size = sizeof(XI_IMG);
     int mvret = xiGetImage( hmv, timeout, &image);
 
-    if(mvret == MM40_ACQUISITION_STOPED)
+    if(mvret == XI_ACQUISITION_STOPED) //MM40_ACQUISITION_STOPED)
     {
         xiStartAcquisition(hmv);
         mvret = xiGetImage(hmv, timeout, &image);
